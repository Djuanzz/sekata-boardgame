<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sekata</title>
    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body>
    <div id="game-container">
      <h1>Sekata</h1>
      <!-- Area Koneksi (Tidak Berubah) -->
      <div id="connection-area">
        <input type="text" id="player-name-input" placeholder="Nama Pemain" />
        <button id="create-game-btn">Buat Game Baru</button>
        <input type="text" id="join-game-id-input" placeholder="ID Game" />
        <button id="join-game-btn">Gabung Game</button>
      </div>

      <!-- Area Permainan (Struktur Baru) -->
      <div id="game-area" class="hidden">
        <!-- Info Game dan Pemain (Akan selalu terlihat saat di game/lobi) -->
        <div class="game-info-bar">
          <span>ID Game: <strong id="game-id-display"></strong></span>
          <span class="turn-display">Status: <strong id="current-turn-display"></strong></span>
          <div id="score-list"></div>
        </div>
        
        <!-- VVVV AREA LOBI BARU VVVV -->
        <div id="lobby-area" class="section-box hidden">
            <h3>Lobi Permainan</h3>
            <p>Tunggu pemain lain bergabung. Host dapat memulai permainan jika jumlah pemain sudah mencukupi.</p>
            <h4>Pemain yang Bergabung:</h4>
            <ul id="lobby-player-list"></ul>
            <button id="start-game-btn" class="btn-primary hidden">Mulai Game</button>
        </div>

        <!-- VVVV AREA PAPAN PERMAINAN BARU VVVV -->
        <div id="board-area" class="hidden">
            <!-- Area Preview Kata -->
            <div id="word-preview-area" class="section-box">
              <h3>Kata yang Dibangun</h3>
              <div id="word-preview-display" class="card-area"></div>
            </div>
            
            <!-- Area Aksi Utama -->
            <div id="main-action-area" class="section-box">
                <h3>Area Aksi</h3>
                <div id="staged-card-display">Pilih Kartu</div>
                <div class="button-group">
                    <button id="action-before-btn" disabled>Sambung Depan</button>
                    <button id="action-after-btn" disabled>Sambung Belakang</button>
                </div>
            </div>

            <!-- Area Kartu Helper -->
            <div id="helper-cards-area" class="section-box">
              <h3>Kartu Helper</h3>
              <div id="helper-cards-container" class="card-area"></div>
            </div>

            <!-- Area Kartu Tangan -->
            <div id="player-hand-area" class="section-box">
              <h3>Tangan Anda</h3>
              <div id="player-hand-container" class="card-area"></div>
            </div>

            <!-- Area Aksi Final Giliran -->
            <div id="final-turn-actions" class="section-box">
                <h3>Aksi Giliran</h3>
                <div class="button-group">
                    <button id="submit-word-btn" class="btn-primary" disabled>Kirim Kata</button>
                    <button id="reset-turn-btn" class="btn-warning" disabled>Reset Giliran</button>
                    <button id="check-turn-btn" class="btn-secondary" disabled>Check</button>
                </div>
            </div>
        </div>

        <!-- Notifikasi & Pemenang -->
        <div id="messages"></div>
        <div id="winner-display" class="hidden">Pemenang: <strong id="winner-name"></strong></div>
      </div>
    </div>
    
    <div id="popup-overlay" class="hidden">
      <div id="popup-box">
        <p id="popup-message"></p>
      </div>
    </div>

    <script type="module" src="/static/js/main.js"></script>
  </body>
</html>